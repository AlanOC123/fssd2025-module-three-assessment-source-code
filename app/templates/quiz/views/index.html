{% extends 'base.html' %} {% block page_name %}Quiz{% endblock %} {% block
content %}

<div class="page-grid">
    {% if quiz_in_progress == True %}
    <div
        id="continue-session-modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modal-message"
        aria-describedby="modal-controls"
        tabindex="-1"
    >
        <div id="continue-modal-content">
            <h3 id="modal-message">Resume Current Quiz?</h3>
            <div id="modal-controls">
                <a
                    id="resume-quiz"
                    href="{{ url_for('quiz.play') }}"
                    type="button"
                    aria-label="Resume current quiz"
                    >Yes</a
                >
                <a
                    id="new-quiz"
                    href="{{ url_for('quiz.index', reset=True) }}"
                    type="button"
                    aria-label="Start a new quiz"
                    >No</a
                >
            </div>
        </div>
    </div>
    {% endif %}
    <section
        id="quiz-builder-container"
        class="content-container"
        role="region"
        aria-labelledby="quiz-builder-heading"
    >
        <form
            id="quiz-builder"
            action="{{ url_for('quiz.build') }}"
            method="POST"
            aria-describedby="input-fields"
        >
            <div id="form-header">
                <h2 id="quiz-builder-heading">Quiz Builder</h2>
                <div class="form-controls">
                    <button type="submit" aria-label="Start quiz">Start</button>
                    <button type="reset" aria-label="Reset form">Reset</button>
                    <button
                        type="button"
                        aria-label="Randomise options"
                        aria-controls="input-fields"
                    >
                        Randomise
                    </button>
                </div>
            </div>
            <div id="input-fields" role="group" aria-label="Quiz options">
                {% from "quiz/components/input-container.html" import
                radio_container, checkbox_container %} {% for data_set in
                quiz_data %}
                <fieldset id="{{ data_set.id }}">
                    <legend>{{ data_set.legend }}</legend>
                    {% if data_set.type == "radio" %} {% for val in
                    data_set["values"] %} {{ radio_container(
                    name=data_set.name, text=val.text, value=val.value,
                    id=val.id, checked=val.is_default ) }} {% endfor %} {% else
                    %} {% for option in data_set["values"] %}
                    <div class="subject-container" id="{{ option.id }}">
                        <div
                            class="subject-button"
                            role="button"
                            tabindex="0"
                            aria-label="Select {{ option.text }}"
                        >
                            <span
                                class="selected-count"
                                aria-live="polite"
                                aria-atomic="true"
                                >0</span
                            >
                            <i
                                class="fa-solid fa-circle-plus"
                                aria-hidden="true"
                            ></i>
                        </div>
                        <div class="subject-icon">
                            <i
                                class="{{ option.icon_class }}"
                                aria-hidden="true"
                            ></i>
                            <p>{{ option.text }}</p>
                        </div>
                        <div
                            class="options-list-container"
                            aria-labelledby="{{ option.id }}"
                        >
                            <div
                                class="subject-button"
                                role="button"
                                tabindex="0"
                                aria-label="Select {{ option.text }}"
                            >
                                <i
                                    class="fa-solid fa-circle-plus"
                                    aria-hidden="true"
                                ></i>
                            </div>
                            <div class="subject-icon">
                                <i
                                    class="{{ option.icon_class }}"
                                    aria-hidden="true"
                                ></i>
                                <p>{{ option.text }}</p>
                            </div>
                            <ul class="subject-options-list">
                                {% for val in option["options"] %}
                                <li class="subject-options-list-item">
                                    {{ checkbox_container( name=data_set.name,
                                    text=val.text, value=val.value, id=val.id,
                                    ref_class=option.id ) }}
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                    {% endfor %} {% endif %}
                </fieldset>
                {% endfor %}
            </div>
        </form>
    </section>
</div>

{% endblock %} {% block styles %}
<link
    rel="stylesheet"
    href="{{ url_for('static', filename='quiz/views/index/style.css') }}"
/>
{% endblock %} {% block scripts %}
<script
    src="{{ url_for('static', filename='quiz/views/index/script.js') }}"
    defer
></script>
{% endblock %}
